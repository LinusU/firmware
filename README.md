# tessel runtime

LPC specific code, bundling `hw_*` functions.

## Installation

[Check out the directions on the wiki](https://github.com/tessel/firmware/wiki)

## API

<!--markdocs API.txt-->
<!--generated by https://github.com/tcr/markdocs-->

### SPI
SPI master connections to slave devices.

&#x20;<a href="#api-int-hw_spi_initialize-size_t-port-uint32_t-clockspeed-uint8_t-spimode-uint8_t-cpol-uint8_t-cpha-uint8_t-frameformat-" name="api-int-hw_spi_initialize-size_t-port-uint32_t-clockspeed-uint8_t-spimode-uint8_t-cpol-uint8_t-cpha-uint8_t-frameformat-">#</a> <i>int</i>&nbsp; <b>hw_spi_initialize</b> ( <i>size\_t</i>&nbsp; port, <i>uint32\_t</i>&nbsp; clockspeed, <i>uint8\_t</i>&nbsp; spimode, <i>uint8\_t</i>&nbsp; cpol, <i>uint8\_t</i>&nbsp; cpha, <i>uint8\_t</i>&nbsp; frameformat )  
Enable SPI port with initialized settings. bitorder: `HW_LSB` or `HW_MSB`. cpol: `HW_LOW` or `HW_HIGH`. cpha: `HW_FIRST` or `HW_SECOND`.

&#x20;<a href="#api-int-hw_spi_enable-size_t-port-" name="api-int-hw_spi_enable-size_t-port-">#</a> <i>int</i>&nbsp; <b>hw_spi_enable</b> ( <i>size\_t</i>&nbsp; port )  
Enable SPI port.

&#x20;<a href="#api-int-hw_spi_disable-size_t-port-" name="api-int-hw_spi_disable-size_t-port-">#</a> <i>int</i>&nbsp; <b>hw_spi_disable</b> ( <i>size\_t</i>&nbsp; port )  
Disable SPI port.

&#x20;<a href="#api-int-hw_spi_transfer-size_t-port-uint8_t-txbuf-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-" name="api-int-hw_spi_transfer-size_t-port-uint8_t-txbuf-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-">#</a> <i>int</i>&nbsp; <b>hw_spi_transfer</b> ( <i>size\_t</i>&nbsp; port, <i>uint8\_t</i>&nbsp; \*txbuf, <i>uint8\_t</i>&nbsp; \*rxbuf, <i>size\_t</i>&nbsp; buf\_len, <i>size\_t\*</i>&nbsp; buf\_read )  
Send and receive data from SPI slave synchronously.

&#x20;<a href="#api-int-hw_spi_send-size_t-port-uint8_t-txbuf-size_t-buf_len-" name="api-int-hw_spi_send-size_t-port-uint8_t-txbuf-size_t-buf_len-">#</a> <i>int</i>&nbsp; <b>hw_spi_send</b> ( <i>size\_t</i>&nbsp; port, <i>uint8\_t</i>&nbsp; \*txbuf, <i>size\_t</i>&nbsp; buf\_len )  
Send data to SPI slave synchronously.

&#x20;<a href="#api-int-hw_spi_receive-size_t-port-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-" name="api-int-hw_spi_receive-size_t-port-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-">#</a> <i>int</i>&nbsp; <b>hw_spi_receive</b> ( <i>size\_t</i>&nbsp; port, <i>uint8\_t</i>&nbsp; \*rxbuf, <i>size\_t</i>&nbsp; buf\_len, <i>size\_t\*</i>&nbsp; buf\_read )  
Receive data from SPI slave synchronously.

&#x20;<a href="#api-int-hw_spi_transfer_async-tm_loop_t-loop-tm_callback_t-callback-size_t-port-uint8_t-txbuf-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-" name="api-int-hw_spi_transfer_async-tm_loop_t-loop-tm_callback_t-callback-size_t-port-uint8_t-txbuf-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-">#</a> <i>int</i>&nbsp; <b>hw_spi_transfer_async</b> ( <i>tm\_loop\_t</i>&nbsp; loop, <i>tm\_callback\_t</i>&nbsp; callback, <i>size\_t</i>&nbsp; port, <i>uint8\_t</i>&nbsp; \*txbuf, <i>uint8\_t</i>&nbsp; \*rxbuf, <i>size\_t</i>&nbsp; buf\_len, <i>size\_t\*</i>&nbsp; buf\_read )  
Send and receive data from SPI slave synchronously.

&#x20;<a href="#api-int-hw_spi_send_async-tm_loop_t-loop-tm_callback_t-callback-size_t-port-uint8_t-txbuf-size_t-buf_len-size_t-buf_read-" name="api-int-hw_spi_send_async-tm_loop_t-loop-tm_callback_t-callback-size_t-port-uint8_t-txbuf-size_t-buf_len-size_t-buf_read-">#</a> <i>int</i>&nbsp; <b>hw_spi_send_async</b> ( <i>tm\_loop\_t</i>&nbsp; loop, <i>tm\_callback\_t</i>&nbsp; callback, <i>size\_t</i>&nbsp; port, <i>uint8\_t</i>&nbsp; \*txbuf, <i>size\_t</i>&nbsp; buf\_len, <i>size\_t\*</i>&nbsp; buf\_read )  
Send data to SPI slave synchronously.

&#x20;<a href="#api-int-hw_spi_receive_async-tm_loop_t-loop-tm_callback_t-callback-size_t-port-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-" name="api-int-hw_spi_receive_async-tm_loop_t-loop-tm_callback_t-callback-size_t-port-uint8_t-rxbuf-size_t-buf_len-size_t-buf_read-">#</a> <i>int</i>&nbsp; <b>hw_spi_receive_async</b> ( <i>tm\_loop\_t</i>&nbsp; loop, <i>tm\_callback\_t</i>&nbsp; callback, <i>size\_t</i>&nbsp; port, <i>uint8\_t</i>&nbsp; \*rxbuf, <i>size\_t</i>&nbsp; buf\_len, <i>size\_t\*</i>&nbsp; buf\_read )  
Receive data from SPI slave synchronously.

#### SPI Slave
Slave functionality. hw_spi_slave_buffer_set, hw_spi_slave_buffer_get

&#x20;<a href="#api-int-hw_spi_slave_enable-" name="api-int-hw_spi_slave_enable-">#</a> <i>int</i>&nbsp; <b>hw_spi_slave_enable</b> ()  


&#x20;<a href="#api-int-hw_spi_slave_disable-" name="api-int-hw_spi_slave_disable-">#</a> <i>int</i>&nbsp; <b>hw_spi_slave_disable</b> ()  


&#x20;<a href="#api-int-hw_spi_slave_receive-" name="api-int-hw_spi_slave_receive-">#</a> <i>int</i>&nbsp; <b>hw_spi_slave_receive</b> () ...  


&#x20;<a href="#api-int-hw_spi_slave_transfer-" name="api-int-hw_spi_slave_transfer-">#</a> <i>int</i>&nbsp; <b>hw_spi_slave_transfer</b> () ...  


&#x20;<a href="#api-int-hw_spi_slave_send-" name="api-int-hw_spi_slave_send-">#</a> <i>int</i>&nbsp; <b>hw_spi_slave_send</b> () ...  


### PWM
Pulse-width modulation.

&#x20;<a href="#api-int-hw_pwm_enable-size_t-pin-hw_pwm_t-mode-uint32_t-period-uint32_t-pulsewidth-" name="api-int-hw_pwm_enable-size_t-pin-hw_pwm_t-mode-uint32_t-period-uint32_t-pulsewidth-">#</a> <i>int</i>&nbsp; <b>hw_pwm_enable</b> ( <i>size\_t</i>&nbsp; pin, <i>hw\_pwm\_t</i>&nbsp; mode, <i>uint32\_t</i>&nbsp; period, <i>uint32\_t</i>&nbsp; pulsewidth )  
Enables PWM for a pin.

<!--/markdocs-->